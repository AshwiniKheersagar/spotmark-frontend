{"version":3,"file":"static/js/67.81002755.chunk.js","mappings":"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","sources":["shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","shared/components/FormElements/Button.js","shared/components/UIElements/Card.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.js","shared/hooks/http-hook.js"],"sourcesContent":["import React from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport L from \"leaflet\"; // Import Leaflet for custom icons\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"./Map.css\";\r\n\r\n// Custom Icon\r\nconst customIcon = new L.Icon({\r\n  iconUrl: require(\"./location.png\"), // Add your marker image in assets\r\n  iconSize: [40, 40], // Icon size\r\n  iconAnchor: [20, 40], // Positioning\r\n  popupAnchor: [0, -35], // Popup positioning\r\n});\r\n\r\nconst Map = (props) => {\r\n  return (\r\n    <MapContainer\r\n      key={`${props.lat}-${props.lng}`} // Forces re-render when lat/lng changes\r\n      center={[props.lat, props.lng]}\r\n      zoom={15}\r\n      className={`map ${props.className}`}\r\n      style={{\r\n        height: \"500px\", // Increased height for better visibility\r\n        width: \"100%\",\r\n        borderRadius: \"10px\", // Rounded corners\r\n        boxShadow: \"0px 4px 10px rgba(0, 0, 0, 0.3)\", // Shadow effect\r\n        ...props.style,\r\n      }}\r\n    >\r\n      {/* OpenStreetMap Tiles */}\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      />\r\n\r\n      {/* Custom Marker at the given location */}\r\n      <Marker position={[props.lat, props.lng]} icon={customIcon}>\r\n        <Popup className=\"custom-popup\">\r\n          <h3 style={{ margin: \"0\", color: \"#007bff\" }}>{props.address}</h3>\r\n          üìç Latitude: {props.lat}\r\n          <br />\r\n          üìç Longitude: {props.lng}\r\n        </Popup>\r\n      </Marker>\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React,{useState,useContext} from 'react'\r\nimport Card from '../../shared/components/UIElements/Card'\r\nimport Button from '../../shared/components/FormElements/Button'\r\nimport Modal from '../../shared/components/UIElements/Modal';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport './PlaceItem.css'\r\nimport Map from '../../shared/components/UIElements/Map';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\n\r\nconst PlaceItem = ({id,image,title,address,description,coordinates,onDelete,creatorId}) => {\r\n\r\n   const {isLoading,error,sendRequest,clearError}=useHttpClient();\r\n\r\n  const [showMap,setShowMap]=useState(false);\r\n\r\n  const[showConfirmModal,setShowConfirmModal]=useState(false);\r\n\r\n  const openMapHandler =()=> setShowMap(true);\r\n\r\n  const closeMapHandler =()=>setShowMap(false);\r\n\r\n  const showDeleteWarningHandler =()=>{\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const cancelDeleteHandler =()=>{\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler =async()=>{\r\n    setShowConfirmModal(false);\r\n    try{\r\n      await  sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      );\r\n      onDelete(id);\r\n    }\r\n    catch(err){\r\n\r\n    }\r\n  };\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <>\r\n    <ErrorModal error={error} onClear={clearError} />\r\n\r\n    <Modal show={showMap} \r\n           onCancel={closeMapHandler} \r\n           header={address} \r\n           contentClass=\"place-item__modal-content\"\r\n           footerClass=\"place-item__modal-actions\"\r\n           footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n    >\r\n       <div className=\"map-container\">\r\n        \r\n        <h2>\r\n          <Map\r\n            lat={coordinates.lat} \r\n            lng={coordinates.lng}\r\n            address={address}\r\n          />\r\n        </h2>\r\n          \r\n        </div>   \r\n    </Modal>\r\n\r\n    <Modal show={showConfirmModal}\r\n    onCancel={cancelDeleteHandler}\r\n     header=\"Are you sure?\" footerClass=\"place-item__modal-actions\" footer={\r\n      <>\r\n        <Button inverse onClick={cancelDeleteHandler}>Cancel</Button>\r\n        <Button danger onClick={confirmDeleteHandler}>Delete</Button>\r\n      </>\r\n    }>\r\n      <p>Do you want to proceed and delete this place? Please note that it can't be undone thereafter.</p>\r\n    </Modal>\r\n       <li className='place-item'>\r\n        <Card className=\"place-item__content\">\r\n           \r\n        {isLoading && (\r\n          <div className=\"center_spinner\">\r\n            <LoadingSpinner asOverlay />\r\n          </div>\r\n        )}\r\n            <div className=\"place-item__image\">\r\n                <img src={`${process.env.REACT_APP_ASSET_URL}/${image}`} alt={title} />\r\n            </div>\r\n            <div className='place-item__info'>\r\n                <h2>{title}</h2>\r\n                <h2 className='address'>{address}</h2>\r\n                <p>{description}</p>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n                 <Button inverse onClick={openMapHandler}>VIEW ON MAP</Button>\r\n                 { auth.userId ===creatorId && \r\n                    <>\r\n                      <Button to={`/places/${id}`}>\r\n                            EDIT\r\n                      </Button>\r\n                      <Button danger onClick={showDeleteWarningHandler}>\r\n                            DELETE\r\n                      </Button>\r\n                    </>\r\n                  }\r\n            </div>\r\n        </Card>\r\n    </li>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlaceItem","import React from 'react'\r\n\r\nimport Card from '../../shared/components/UIElements/Card'\r\nimport PlaceItem from './PlaceItem'\r\nimport './PlaceList.css';\r\nimport Button from '../../shared/components/FormElements/Button';\r\n\r\nconst PlaceList = props => {\r\n    if(props.items.length === 0)\r\n    {\r\n        return (\r\n            <div className=\"place-list center\">\r\n               <Card>\r\n                  <h2>No places found. Maybe create one?</h2>\r\n                  <Button to=\"/places/new\">SharePlace</Button>\r\n               </Card>\r\n            </div>\r\n        )\r\n    }\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {\r\n        props.items.map(place => (\r\n           <PlaceItem key={place.id}\r\n           id={place.id}\r\n           image={place.image}\r\n           title={place.title}\r\n           description={place.description}\r\n           address={place.address}\r\n           creatorId={place.creator}\r\n           coordinates={place.location}\r\n           onDelete={props.onDeletePlace}/>\r\n           )\r\n        )\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default PlaceList","import React, { useEffect, useState } from 'react'\r\nimport PlaceList from '../components/PlaceList';\r\nimport { useParams } from 'react-router-dom';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner' \r\n\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst UserPlaces = () => {\r\n  const [loadedPlaces,setLoadedPlaces]=useState();\r\n  const {isLoading,error,sendRequest,clearError} =useHttpClient();\r\n\r\n  const userId= useParams().userId;\r\n  \r\n  useEffect(()=>{\r\n    \r\n    const fetchPlaces =async ()=>{\r\n      try{\r\n        const responseData =await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`);\r\n\r\n        setLoadedPlaces(responseData.places);\r\n      }\r\n      catch(err){\r\n\r\n      }\r\n    }\r\n    fetchPlaces();\r\n  },[sendRequest,userId]);\r\n\r\n  const placeDeletedHandler=(deletedplaceId)=>{\r\n    setLoadedPlaces(prevPlaces => prevPlaces.filter(place =>place.id !== deletedplaceId));\r\n  }\r\n \r\n  return (\r\n    <>\r\n    <ErrorModal error={error} onClear={clearError} />\r\n       {isLoading && <div className='center_spinner'>\r\n          <LoadingSpinner />\r\n       </div> }\r\n    {!isLoading && loadedPlaces &&<PlaceList items={loadedPlaces} onDeletePlace={placeDeletedHandler} />}\r\n       {/* The loadedPlaces is the array so the first index is used */}\r\n       \r\n        {/* npm install react-leaflet leaflet \r\n        npm install --save react-router-dom@5 --save-exact\r\n        npm install --save react-transition-group\r\n        */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserPlaces","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\n\nexport default ErrorModal;\n","import React, { useRef } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport './Modal.css';\r\nimport Backdrop from './Backdrop';\r\n\r\nconst ModalOverlay = (props) => {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n      </header>\r\n      <form onSubmit={props.onSubmit ? props.onSubmit : (e) => e.preventDefault()}>\r\n        <div className={`modal__content ${props.contentClass}`}>{props.children}</div>\r\n        <footer className={`modal__footer ${props.footerClass}`}>{props.footer}</footer>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n};\r\n\r\nconst Modal = (props) => {\r\n  const nodeRef = useRef(null); // ‚úÖ Use nodeRef to avoid findDOMNode error\r\n\r\n  return (\r\n    <>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition \r\n        in={props.show} \r\n        mountOnEnter \r\n        unmountOnExit \r\n        timeout={200} \r\n        classNames=\"modal\"\r\n        nodeRef={nodeRef} // ‚úÖ Pass nodeRef\r\n      >\r\n        <ModalOverlay {...props} ref={nodeRef} />\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useCallback, useRef, useEffect } from \"react\";\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      setError(null); // Clear previous errors before making a new request\r\n\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try \r\n      {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (ctrl) => ctrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message || \"Something went wrong!\");\r\n        }\r\n\r\n        return responseData;\r\n      } \r\n      catch (err) \r\n      {\r\n        if (err.name === \"AbortError\") \r\n        {\r\n          console.log(\"Fetch request was aborted.\");\r\n          return;\r\n        }\r\n        setError(err.message);\r\n        throw err;\r\n      } \r\n      finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n"],"names":["customIcon","L","iconUrl","require","iconSize","iconAnchor","popupAnchor","props","_jsxs","MapContainer","center","lat","lng","zoom","className","style","height","width","borderRadius","boxShadow","children","_jsx","TileLayer","url","attribution","Marker","position","icon","Popup","margin","color","address","_ref","id","image","title","description","coordinates","onDelete","creatorId","isLoading","error","sendRequest","clearError","useHttpClient","showMap","setShowMap","useState","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","auth","useContext","AuthContext","_Fragment","ErrorModal","onClear","Modal","show","onCancel","header","contentClass","footerClass","footer","Button","onClick","Map","inverse","danger","async","Authorization","token","err","Card","LoadingSpinner","asOverlay","src","alt","openMapHandler","userId","to","showDeleteWarningHandler","items","length","map","place","PlaceItem","creator","location","onDeletePlace","UserPlaces","loadedPlaces","setLoadedPlaces","useParams","useEffect","responseData","places","fetchPlaces","PlaceList","deletedplaceId","prevPlaces","filter","href","size","Link","exact","type","disabled","ModalOverlay","content","headerClass","onSubmit","e","preventDefault","ReactDOM","document","getElementById","nodeRef","useRef","Backdrop","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","ref","setIsLoading","setError","activeHttpRequests","useCallback","method","arguments","undefined","body","headers","httpAbortCtrl","AbortController","current","push","response","fetch","signal","json","ctrl","ok","Error","message","name","console","log","forEach","abortCtrl","abort"],"sourceRoot":""}